icon:: ğŸ’¾
author:: antsmallantå‹¿è¦ä»¥å…¶æ˜æ˜ï¼Œä½¿äººæ˜­æ˜­å…³æ³¨ä»–
created:: [[20240518]]
exclude-from-graph-view:: true
source:: https://zhuanlan.zhihu.com/p/697040239
type:: archives-web

- æ‰€è°“ç°ä»£ c++ï¼ŒæŒ‡çš„æ˜¯ä» c++11 å¼€å§‹çš„ c++ï¼Œä» c++11 å¼€å§‹ï¼ŒåŠ å…¥ä¸€äº›æ¯”è¾ƒç°ä»£çš„è¯­è¨€ç‰¹æ€§å’Œæ”¹è¿›äº†çš„åº“å®ç°ï¼Œä½¿å¾—ç”¨ c++ å¼€å‘å°‘äº†å¾ˆå¤šå¿ƒæ™ºè´Ÿæ‹…ï¼Œç¨‹åºä¹Ÿæ›´åŠ å¥å£®ï¼Œâ€œçœ‹èµ·æ¥åƒä¸€é—¨æ–°è¯­è¨€â€ã€‚
- ä» c++11 å¼€å§‹ï¼Œæ¯ 3 å¹´å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œåˆ°ä»Šå¹´ï¼ˆ2024ï¼‰å·²ç»æœ‰ 5 ä¸ªç‰ˆæœ¬äº†ï¼Œåˆ†åˆ«æ˜¯ c++11ã€c++14ã€c++17ã€c++20ã€c++23ï¼Œè¿™ 5 ä¸ªç‰ˆæœ¬å¼•å…¥äº†ä¸Šç™¾ä¸ªæ–°çš„è¯­è¨€ç‰¹æ€§å’Œæ–°çš„æ ‡å‡†åº“ç‰¹æ€§ã€‚
- ___
- ## c++11 æ–°ç‰¹æ€§
- c++11 æ˜¯ä¸€ä¸ª major ç‰ˆæœ¬ï¼Œç°ä»£ c++ å¼€å¤©è¾Ÿåœ°çš„ç‰ˆæœ¬ï¼Œæœ‰ç‰¹åˆ«å¤šæ–°ä¸œè¥¿ã€‚
- æ–°çš„è¯­è¨€ç‰¹æ€§\[1\]ï¼š
- -   å†…å­˜æ¨¡å‹â€”â€”ä¸€ä¸ªé«˜æ•ˆçš„ä¸ºç°ä»£ç¡¬ä»¶è®¾è®¡çš„åº•å±‚æŠ½è±¡ï¼Œä½œä¸ºæè¿°å¹¶å‘çš„åŸºç¡€
- auto å’Œ decltypeâ€”â€”é¿å…ç±»å‹åç§°çš„ä¸å¿…è¦é‡å¤
- èŒƒå›´ forâ€”â€”å¯¹èŒƒå›´çš„ç®€å•é¡ºåºéå†
- ç§»åŠ¨è¯­ä¹‰å’Œå³å€¼å¼•ç”¨â€”â€”å‡å°‘æ•°æ®æ‹·è´
- ç»Ÿä¸€åˆå§‹åŒ–â€”â€” å¯¹æ‰€æœ‰ç±»å‹éƒ½ï¼ˆå‡ ä¹ï¼‰å®Œå…¨ä¸€è‡´çš„åˆå§‹åŒ–è¯­æ³•å’Œè¯­ä¹‰
- nullptrâ€”â€”ç»™ç©ºæŒ‡é’ˆä¸€ä¸ªåå­—
- constexpr å‡½æ•°â€”â€”åœ¨ç¼–è¯‘æœŸè¿›è¡Œæ±‚å€¼çš„å‡½æ•°
- ç”¨æˆ·å®šä¹‰å­—é¢é‡â€”â€”ä¸ºç”¨æˆ·è‡ªå®šä¹‰ç±»å‹æä¾›å­—é¢é‡æ”¯æŒ
- åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡â€”â€”ä¸éœ€è¦è½¬ä¹‰å­—ç¬¦çš„å­—é¢é‡ï¼Œä¸»è¦ç”¨åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­
- å±æ€§â€”â€”å°†ä»»æ„ä¿¡æ¯åŒä¸€ä¸ªåå­—å…³è”
- lambda è¡¨è¾¾å¼â€”â€”åŒ¿åå‡½æ•°å¯¹è±¡
- å˜å‚æ¨¡æ¿â€”â€”å¯ä»¥å¤„ç†ä»»æ„ä¸ªä»»æ„ç±»å‹çš„å‚æ•°çš„æ¨¡æ¿
- æ¨¡æ¿åˆ«åâ€”â€”èƒ½å¤Ÿé‡å‘½åæ¨¡æ¿å¹¶ä¸ºæ–°åç§°ç»‘å®šä¸€äº›æ¨¡æ¿å‚æ•°
- noexceptâ€”â€”ç¡®ä¿å‡½æ•°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•
- override å’Œ finalâ€”â€”ç”¨äºç®¡ç†å¤§å‹ç±»å±‚æ¬¡ç»“æ„çš„æ˜ç¡®è¯­æ³•
- static\_assertâ€”â€”ç¼–è¯‘æœŸæ–­è¨€
- long longâ€”â€”æ›´é•¿çš„æ•´æ•°ç±»å‹
- é»˜è®¤æˆå‘˜åˆå§‹åŒ–å™¨â€”â€”ç»™æ•°æ®æˆå‘˜ä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¿™ä¸ªé»˜è®¤å€¼å¯ä»¥è¢«æ„é€ å‡½æ•°ä¸­çš„åˆå§‹åŒ–æ‰€å–ä»£
- enum classâ€”â€”æšä¸¾å€¼å¸¦æœ‰ä½œç”¨åŸŸçš„å¼ºç±»å‹æšä¸¾
- æ–°çš„æ ‡å‡†åº“ç‰¹æ€§\[1\]ï¼š
- -   unique\_ptr å’Œ shared\_ptrâ€”â€”ä¾èµ– RAII çš„èµ„æºç®¡ç†æŒ‡é’ˆ
- å†…å­˜æ¨¡å‹å’Œ atomic å˜é‡
- threadã€mutexã€condition\_variable ç­‰â€”â€”ä¸ºåŸºæœ¬çš„ç³»ç»Ÿå±‚çº§çš„å¹¶å‘æä¾›äº†ç±»å‹å®‰å…¨ã€å¯ç§»æ¤çš„æ”¯æŒ
- futureã€promise å’Œ packaged\_taskï¼Œç­‰â€”â€”ç¨ç¨æ›´é«˜çº§çš„å¹¶å‘
- tupleâ€”â€”åŒ¿åçš„ç®€å•å¤åˆç±»å‹
- ç±»å‹ç‰¹å¾ï¼ˆtype traitï¼‰â€”â€”ç±»å‹çš„å¯æµ‹è¯•å±æ€§ï¼Œç”¨äºå…ƒç¼–ç¨‹
- æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
- éšæœºæ•°â€”â€”å¸¦æœ‰è®¸å¤šç”Ÿæˆå™¨ï¼ˆå¼•æ“ï¼‰å’Œå¤šç§åˆ†å¸ƒ
- æ—¶é—´â€”â€”time\_point å’Œ duration
- unordered\_map ç­‰â€”â€”å“ˆå¸Œè¡¨
- forward\_listâ€”â€”å•å‘é“¾è¡¨
- arrayâ€”â€”å…·æœ‰å›ºå®šå¸¸é‡å¤§å°çš„æ•°ç»„ï¼Œå¹¶ä¸”ä¼šè®°ä½è‡ªå·±çš„å¤§å°
- emplace è¿ç®—â€”â€”åœ¨å®¹å™¨å†…ç›´æ¥æ„å»ºå¯¹è±¡ï¼Œé¿å…æ‹·è´
- exception\_ptrâ€”â€”å…è®¸åœ¨çº¿ç¨‹ä¹‹é—´ä¼ é€’å¼‚å¸¸
- ___
- ## c++14 æ–°ç‰¹æ€§
- c++14 æ˜¯ä¸€ä¸ª minor ç‰ˆæœ¬ï¼Œæ²¡ä»€ä¹ˆé‡è¦çš„æ–°ç‰¹æ€§ï¼Œä¸»è¦æ˜¯åœ¨ç»™ c++11 æ‰“è¡¥ä¸ï¼Œä¸ºä½¿ç”¨è€… â€œå¸¦æ¥æå¤§æ–¹ä¾¿â€ï¼Œå®ç° â€œå¯¹æ–°æ‰‹æ›´ä¸ºå‹å¥½â€ è¿™ä¸€ç›®æ ‡ã€‚
- æ–°çš„è¯­è¨€ç‰¹æ€§\[2\]ï¼š
- -   æ³›å‹çš„lambda
- Lambdaæ•è·éƒ¨åˆ†ä¸­ä½¿ç”¨è¡¨è¾¾å¼
- å‡½æ•°è¿”å›ç±»å‹æ¨å¯¼
- å¦ä¸€ç§ç±»å‹æ¨æ–­:decltype(auto)
- æ”¾æ¾çš„constexprå‡½æ•°é™åˆ¶
- å˜é‡æ¨¡æ¿
- èšåˆç±»æˆå‘˜åˆå§‹åŒ–
- äºŒè¿›åˆ¶å­—é¢é‡ï¼š 0bæˆ–0B å‰ç¼€
- æ•°å­—åˆ†ä½ç¬¦
- deprecated å±æ€§
- æ–°çš„æ ‡å‡†åº“ç‰¹æ€§\[2\]ï¼š
- -   å…±äº«çš„äº’æ–¥ä½“å’Œé”: std::shared\_timed\_mutex
- å…ƒå‡½æ•°çš„åˆ«å
- å…³è”å®¹å™¨ä¸­çš„å¼‚æ„æŸ¥æ‰¾
- æ ‡å‡†è‡ªå®šä¹‰å­—é¢é‡
- é€šè¿‡ç±»å‹å¯»å€å¤šå…ƒç»„
- è¾ƒå°çš„æ ‡å‡†åº“ç‰¹æ€§: std::make\_unique, std::is\_final ç­‰
- ___
- ## c++17 æ–°ç‰¹æ€§
- c++17 æ˜¯ä¸€ä¸ª major ç‰ˆæœ¬ã€‚
- æ–°çš„è¯­è¨€ç‰¹æ€§\[3\]ï¼š
- -   æ„é€ å‡½æ•°æ¨¡æ¿å‚æ•°æ¨å¯¼â€”â€”ç®€åŒ–å¯¹è±¡å®šä¹‰
- æ¨å¯¼æŒ‡å¼•â€”â€”è§£å†³æ„é€ å‡½æ•°æ¨¡æ¿å‚æ•°æ¨å¯¼æ­§ä¹‰çš„æ˜¾å¼æ ‡æ³¨
- ç»“æ„åŒ–ç»‘å®šâ€”â€”ç®€åŒ–æ ‡æ³¨ï¼Œå¹¶æ¶ˆé™¤ä¸€ç§æœªåˆå§‹åŒ–å˜é‡çš„æ¥æº
- inline å˜é‡â€”â€”ç®€åŒ–äº†é‚£äº›ä»…æœ‰å¤´æ–‡ä»¶çš„åº“å®ç°ä¸­çš„é™æ€åˆ†é…å˜é‡çš„ä½¿ç”¨
- æŠ˜å è¡¨è¾¾å¼â€”â€”ç®€åŒ–å˜å‚æ¨¡æ¿çš„ä¸€äº›ç”¨æ³•
- æ¡ä»¶ä¸­çš„æ˜¾å¼æµ‹è¯•â€”â€”æœ‰ç‚¹åƒ for è¯­å¥ä¸­çš„æ¡ä»¶
- ä¿è¯çš„å¤åˆ¶æ¶ˆé™¤â€”â€”å»é™¤äº†å¾ˆå¤šä¸å¿…è¦çš„æ‹·è´æ“ä½œ
- æ›´ä¸¥æ ¼çš„è¡¨è¾¾å¼æ±‚å€¼é¡ºåºâ€”â€”é˜²æ­¢äº†ä¸€äº›ç»†å¾®çš„æ±‚å€¼é¡ºåºé”™è¯¯
- auto å½“ä½œæ¨¡æ¿å‚æ•°ç±»å‹â€”â€”å€¼æ¨¡æ¿å‚æ•°çš„ç±»å‹æ¨å¯¼
- æ•æ‰å¸¸è§é”™è¯¯çš„æ ‡å‡†å±æ€§â€”â€”`[[maybe_unused]]ã€[[nodiscard]] å’Œ [[fallthrough]]`
- åå…­è¿›åˆ¶æµ®ç‚¹å­—é¢é‡
- å¸¸é‡è¡¨è¾¾å¼ ifâ€”â€”ç®€åŒ–ç¼–è¯‘æœŸæ±‚å€¼çš„ä»£ç 
- æ–°çš„æ ‡å‡†åº“ç‰¹æ€§\[3\]ï¼š
- -   optionalã€any å’Œ variantâ€”â€”ç”¨äºè¡¨è¾¾â€œå¯é€‰â€çš„æ ‡å‡†åº“ç±»å‹
- shared\_mutex å’Œ shared\_lockï¼ˆè¯»å†™é”ï¼‰å’Œ scoped\_lock
- å¹¶è¡Œ STLâ€”â€”æ ‡å‡†åº“ç®—æ³•çš„å¤šçº¿ç¨‹åŠçŸ¢é‡åŒ–ç‰ˆæœ¬
- æ–‡ä»¶ç³»ç»Ÿâ€”â€”å¯ç§»æ¤åœ°æ“ä½œæ–‡ä»¶ç³»ç»Ÿè·¯å¾„å’Œç›®å½•çš„èƒ½åŠ›
- string\_viewâ€”â€”å¯¹ä¸å¯å˜å­—ç¬¦åºåˆ—çš„éæ‰€æœ‰æƒå¼•ç”¨
- æ•°å­¦ç‰¹æ®Šå‡½æ•°â€”â€”åŒ…æ‹¬æ‹‰ç›–å°”å’Œå‹’è®©å¾·å¤šé¡¹å¼ã€è´å¡”å‡½æ•°ã€é»æ›¼æ³½å¡”å‡½æ•°
- ___
- ## c++20 æ–°ç‰¹æ€§
- c++20 æ˜¯ä¸€ä¸ª major ç‰ˆæœ¬ï¼Œæœ‰å¾ˆé‡è¦çš„æ›´æ–°ï¼Œ"The Big Four"ï¼Œå³å››ä¸ªé‡è¦çš„ç‰¹æ€§ï¼Œåˆ†åˆ«æ˜¯ï¼šæ¦‚å¿µã€èŒƒå›´ã€åç¨‹å’Œæ¨¡å—ã€‚
- æ–°çš„è¯­è¨€ç‰¹æ€§\[4\]ï¼š
- -   coroutines
- concepts
- designated initializers
- template syntax for lambdas
- range-based for loop with initializer
- `[[likely]]` and `[[unlikely]]` attributes
- deprecate implicit capture of this
- class types in non-type template parameters
- constexpr virtual functions
- explicit(bool)
- immediate functions
- using enum
- lambda capture of parameter pack
- char8\_t
- constinit
- æ–°çš„æ ‡å‡†åº“ç‰¹æ€§\[4\]ï¼š
- -   concepts library
- synchronized buffered outputstream
- std::span
- bit operations
- math constants
- std::is\_constant\_evaluated
- std::make\_shared supports arrays
- starts\_with and ends\_with on strings
- check if associative container has element
- std::bit\_cast
- std::midpoint
- std::to\_array
- ___
- ## c++23 æ–°ç‰¹æ€§
- c++23 æ˜¯ä¸€ä¸ª minor ç‰ˆæœ¬ã€‚
- æ–°çš„è¯­è¨€ç‰¹æ€§\[5\]ï¼š
- -   æ–°è¯­è¨€åŠŸèƒ½ç‰¹æ€§æµ‹è¯•å®
- æ˜¾å¼å¯¹è±¡å½¢å‚ï¼Œæ˜¾å¼å¯¹è±¡æˆå‘˜å‡½æ•°ï¼ˆæ¨å¯¼ thisï¼‰
- if consteval / if not consteval
- å¤šç»´ä¸‹æ ‡è¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ v\[1, 3, 7\] = 42;ï¼‰
- static operator()
- static operator\[\]
- auto(x)ï¼šè¯­è¨€ä¸­çš„è¡°é€€å¤åˆ¶
- lambda è¡¨è¾¾å¼ä¸Šçš„å±æ€§
- å¯é€‰çš„æ‰©å±•æµ®ç‚¹ç±»å‹ï¼šstd::float{16|32|64|128}\_t å’Œ std::bfloat16\_tã€‚
- ï¼ˆæœ‰ç¬¦å·ï¼‰std::size\_t å­—é¢é‡çš„å­—é¢é‡åç¼€ 'Z'/'z'
- åç¼€
-
- é€šè¿‡æ–°å±æ€§ \[\[assume(è¡¨è¾¾å¼)\]\] è¿›è¡Œå‡è®¾
- å…·åé€šç”¨å­—ç¬¦è½¬ä¹‰
- å¯ç§»æ¤æºæ–‡ä»¶ç¼–ç ä¸º UTF-8
- è¡Œæ‹¼åˆä¹‹å‰ä¿®å‰ªç©ºç™½
- æ–°çš„æ ‡å‡†åº“ç‰¹æ€§\[5\]ï¼š
- -   æ–°çš„åº“åŠŸèƒ½ç‰¹æ€§æµ‹è¯•å®
- æ–°çš„èŒƒå›´æŠ˜å ç®—æ³•
- å­—ç¬¦ä¸²æ ¼å¼åŒ–æ”¹è¿›
- â€œå¹³é“ºï¼ˆflatï¼‰â€å®¹å™¨é€‚é…å™¨ï¼šstd::flat\_mapã€std::flat\_multimapã€std::flat\_setã€std::flat\_multiset
- std::mdspan
- std::generator
- std::basic\_string::contains, std::basic\_string\_view::contains
- ç¦æ­¢ä» nullptr æ„é€  std::string\_view
- std::basic\_string::resize\_and\_overwrite
- std::optional çš„å•å­å¼æ“ä½œï¼šor\_elseã€and\_thenã€transform
- æ ˆè¸ªè¿¹ï¼ˆstacktraceï¼‰åº“
- æ–°çš„èŒƒå›´ç®—æ³•
- æ–°çš„èŒƒå›´é€‚é…å™¨ï¼ˆè§†å›¾ï¼‰
- å¯¹èŒƒå›´åº“çš„ä¿®æ”¹
- å¯¹è§†å›¾çš„ä¿®æ”¹
- æ ‡è®°ä¸å¯è¾¾ä»£ç ï¼šstd::unreachable
- æ–°çš„è¯æ±‡ç±»å‹ std::expected
- std::move\_only\_function
- æ–°çš„å¸¦æœ‰ç¨‹åºæä¾›çš„å›ºå®šå¤§å°ç¼“å†²åŒºçš„ I/O æµ std::spanstream
- std::byteswap
- std::to\_underlying
- å…³è”å®¹å™¨çš„å¼‚è´¨æ“¦é™¤
- ___
- ## å‚è€ƒ
- \[1\] Bjarne Stroustrup. c++11ï¼šæ„Ÿè§‰åƒæ˜¯é—¨æ–°è¯­è¨€. Cpp-Club. Available at : [https://github.com/Cpp-Club/Cxx\_HOPL4\_zh/blob/main/04.md](https://github.com/Cpp-Club/Cxx_HOPL4_zh/blob/main/04.md), 2023-6-11.
- \[2\] Wikipedia. c++14. Available at: [https://zh.wikipedia.org/wiki/c++14](https://zh.wikipedia.org/wiki/c++14).
- \[3\] ç©è½¬Linuxå†…æ ¸. å¿«é€Ÿå…¥é—¨c++17ï¼šäº†è§£æœ€æ–°çš„è¯­è¨€ç‰¹æ€§å’ŒåŠŸèƒ½. Available at: [https://zhuanlan.zhihu.com/p/664746128](https://zhuanlan.zhihu.com/p/664746128), 2023-11-06.
- \[4\] AnthonyCalandra. modern-cpp-features:CPP20. Available at: [https://github.com/AnthonyCalandra/modern-cpp-features/blob/master/CPP20.md](https://github.com/AnthonyCalandra/modern-cpp-features/blob/master/CPP20.md), 2023-3-19.
- \[5\] cppreference. c++23. Available at: [https://zh.cppreference.com/w/cpp/23](https://zh.cppreference.com/w/cpp/23), 2024-3-3.