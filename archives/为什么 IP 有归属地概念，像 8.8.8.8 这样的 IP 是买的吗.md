icon:: 💾
author:: 时国怀
created:: [[20240727]]
exclude-from-graph-view:: true
source:: https://www.zhihu.com/question/24286996/answer/27297641
type:: archives-web

- 先来介绍几个概念：
- IANA： Internet Assigned Numbers Authority (IANA)，互联网数字分配机构，负责管理，分配IP地址（[Internet Assigned Numbers Authority](http://www.iana.org/)）。同时还负责AS号（自治域编号）等分配。IANA的管理机构是ICANN(ICANN, The Internet Corporation for Assigned Names and Numbers,互联网名称与数字地址分配机构，官网：
- [ICANN](https://www.icann.org/))
- APNIC：亚太互联网络信息中心 （Asia-Pacific Network Information Centre，APNIC），官网：[APNIC - Home](http://www.apnic.net/)，负责亚洲地区的地址分配。
- 然后再说具体的流程：
- IP地址都是向以上机构申请的，但不好意思，IPv4地址已经申请完了，申请的流程那些网站上都有。
- **IP地址只有所有权，不存在真正的归属地，归属地都是运营商（指**
- **网络运营商**
- **，下同）决定的，理论上说一个地址可以用在全球任何地方。**
- 比如，某IP地址属于美国某公司，但这个公司在中国开了一个分公司，那么这个分公司也可以用这个地址。
- 那么IP地址的归属地查询是怎么来的呢？
- 因为拥有IP地址只是第一步，有了IP地址以后还要运营商认可这个地址并将地址信息广播给互联网，告诉互联网（内外网都算）如何到达这个IP地址——也就是路由。而
- **这个IP地址使用者的接入运营商决定了这个地址在哪**，所以才有了归属地的概念。
- 比如北京的某个用户，要访问服务器位于上海的一个网站，通过DNS域名解析获得IP地址，当这个用户要发送网页请求的时候，先要知道如何才能到达目标IP地址，这个时候，运营商的路由器知道怎么到达目标地址，所以用户请求经过网络转发才能到达目的。当然，前提是**运营商认可这个地址是存在的**
- 所以，当拥有IP地址以后第二步就是，让运营商知道这个地址在这里，方法有：
- **1、自己成为一个运营商，并且与其它运营商连接起来，被其它运营商认可。**
- **2、向运营商付钱，在运营商的网络里设置上这条路径（承认这个地址在这里存在）。**
- 运营商之间（当然，前提是互相认可的运营商），**通常都会无条件的学习对方的全部公开的路由**（过程参考BGP协议，展开说较复杂），所以，只要向一个公共的运营商付钱并设置上路由，那么理论上全球大部分地方都最终会学习到这条路由的，也就是说全球的大部分用户都会知道怎么到达这个IP地址。通常，如果这么干，**一般都是向接入的运营商付钱**
- 。
- 所以，要想获得IP地址靓号，先要知道这个地址是属于谁的，到IANA网站上可查到。然后联系对方，购买这个地址（或者地址段）的所有权。最后，向运营商付钱，或者自己成为一个运营商，把这个地址通告出去。
- 理论上说，只要有钱，肯定能办成，但实际上不好说。因为在国内，要让运营商干这种事情，恐怕还不仅仅是钱的问题。
- 此外，买卖地址是要花钱的，这个钱跟买卖域名一样，完全是想要多少就可能是多少的。同时，拿到所有权以后，
- **还要定期向IANA支付管理费才行**，不然这个地址还是会被收回去的。
- 对了，附上怎么查IP地址属于谁：
- 在这个页面里：
- [IANA — Number Resources](http://www.iana.org/numbers)
- 可以看到有好多IP地址管理机构的连接，随便点进去一个，一般都会有一个叫做whois的查询的地方，APNIC的是这个：
- [APNIC - Query the APNIC Whois Database](http://wq.apnic.net/apnic-bin/whois.pl)
- 输入一个要查询的地址，比如22.22.22.22，点查询会给出一些信息，有时候信息不全，要求你到别 的地址管理机构的网站去查，那就说明这个地址不在这里管辖，按照说明去别的地方找就是了。
- 再说这个22.22.22.22，查询的内容如下：
- `NetRange: 22.0.0.0 - 22.255.255.255 CIDR: 22.0.0.0/8 OriginAS: NetName: DNIC-SNET-022 NetHandle: NET-22-0-0-0-1 Parent: NetType: Direct Allocation Ref: http://whois.arin.net/rest/net/NET-22-0-0-0-1 `
- `OrgName: DoD Network Information Center OrgId: DNIC Address: 3990 E. Broad Street City: Columbus StateProv: OH PostalCode: 43218 Country: US RegDate: Updated: 2011-08-17 Ref: http://whois.arin.net/rest/org/DNIC `
- 主要的信息包括：地址范围，申请类型，归哪管（这个地址归ARIN，北美的地址），OrgName就是所有者信息了，包括地址什么的，到ARIN去查有时候会有更多信息，后面还有电话，我就不列了。
- 如果题主向申请地址靓号，按照上面步骤去做就可以了，至于如何打通运营商，只能说，祝你好运了……
- 前面说了个AS号，后面忘记补充了，所有的运营商都是有AS号的，这个号码范围是0-65535，有一些号码被保留，AS是自治域的意思，因为全世界的网络实在太大了，如果每个路由器都记录所有网络的路由信息，那么
- 路由表
- 会非常恐怖，即使是核心路由器也负担不起，解决的方法就是把全球网络划分为若干个自治域，每个自治域之间只关注如何到达对方的边界，而不关心对方内部的网络情况，这样一来路由器的负担会小一些，这是BGP协议所确定的，因为自治域要有一个名字，所以就用了一个编号，就是AS号，比如
- 中国电信
- 的编号是4134，这是全球唯一的。有些虚拟主机的网站所说的BGP机房就是说这个网络本身是一个独立的自治域，有自己的AS号，可以在路由选路上有一定优势（实际情况未必）。
- AS号跟IP地址什么关系呢？如果能申请到一个独立的AS号，就可以自己做运营商，再花点钱把自己的网络跟别的运营商连起来，就可以广播自己的IP地址范围和路由了。当然，成本非常的高。
- (https://www.zhihu.com/question/24286996/answer/27297641)